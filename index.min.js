/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2020 Taufik Nurrohman
 *
 * <https://github.com/taufik-nurrohman/f3h>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).F3H=t()}(this,(function(){"use strict";const e=e=>Array.isArray(e),t=e=>"function"==typeof e,n=(e,t)=>e&&o(t)&&e instanceof t,r=(e,t=!0)=>"object"==typeof e&&(!t||n(e,Object)),o=e=>(e=>void 0!==e)(e)&&!(e=>null===e)(e),s=t=>{if(e(t))return t.map((e=>s(t)));if(r(t)){for(let e in t)t[e]=s(t[e]);return t}return!1===t?"false":null===t?"null":!0===t?"true":""+t},i=t=>e(t)?t:[t],u=t=>{if(e(t))return t.map((e=>u(e)));if((e=>/^-?(?:\d*.)?\d+$/.test(e+""))(t))return((e,t=10)=>parseInt(e,t))(t);if(r(t)){for(let e in t)t[e]=u(t[e]);return t}return{false:!1,null:null,true:!0}[t]||t},c=(e,t,n)=>{i(e).forEach((e=>t.removeEventListener(e,n)))},f=(e,t,n,r=!1)=>{i(e).forEach((e=>t.addEventListener(e,n,r)))},a={};function l(e,t){const n=this;return o(a[e])?(a[e].forEach((e=>e.apply(n,t))),n):n}function p(e,t){const n=this;return o(e)?(o(a[e])&&(o(t)?(a[e].forEach(((n,r)=>{t===n&&a[e].splice(r,1)})),0===a[e].length&&delete a[e]):delete a[e]),n):(a={},n)}function h(e,t){return o(a[e])||(a[e]=[]),o(t)&&a[e].push(t),this}const d=e=>n(e,RegExp);var v,y,m="F3H",b=window,g=document,k="GET",E="document",q="text",w=b.history,x=b.location,L="//"+x.hostname,T=g.documentElement,H=g.currentScript;function O(e,t){return e.getAttribute(t)}function S(e,t){return e.hasAttribute(t)}function C(e,t,n){return e.setAttribute(t,n)}function j(e){return e.innerHTML}function A(e){return N(e)?"submit":"click"}function F(e){return e.split("#")[1]||""}function R(e){return e.split("#")[0]}function N(e){return"form"===Q(e.nodeName)}function D(e){if(e.src&&H.src===e.src)return 1;var t,n,r=Q(m);return S(e,"data-"+r)||S(e,r)||(t="\\bF3H\\b",d(t)?t:(t=t.replace(/\//g,"\\/"),RegExp(t,o(n)?n:"g"))).test(j(e)||"")?1:0}function M(e){for(var t,n,r,o,s={},i=P("link[rel=dns-prefetch],link[rel=preconnect],link[rel=prefetch],link[rel=preload],link[rel=prerender]",e),u=0,c=i.length;u<c;++u)r=n=i[u],o=void 0,o=Q(m),S(r,"data-"+o)||S(r,o)||(n.id=t=n.id||"F3H:"+Y(O(n,"href")||j(n)),s[t]=J(n),s[t][2].href=n.href);return s}function B(e,t,n){return(t||n||g).querySelector(e)}function P(e,t,n){return(t||n||g).querySelectorAll(e)}function U(e,t,n){n.insertBefore(e,t&&n===t.parentNode?t:null)}function $(e){if(e){var t=e.parentNode;t&&t.removeChild(e)}}function I(e){var t=g.createElement(e[0]);for(var n in function(e,t){e.innerHTML=t}(t,e[1]),e[2])C(t,n,s(e[2][n]));return t}function J(e){for(var t=e.attributes,n=[Q(e.nodeName),j(e),{}],r=0,o=t.length;r<o;++r)n[2][t[r].name]=u(t[r].value);return n}function G(e){e.preventDefault()}function K(){return x.href}function W(e){for(var t,n,r={},o=P("script",e),s=0,i=o.length;s<i;++s)D(n=o[s])||(n.id=t=n.id||"F3H:"+Y(O(n,"src")||j(n)),r[t]=J(n));return r}function X(e){return e.replace(/\/+$/,"")}function _(e){for(var t,n,r,o,s={},i=P("link[rel=stylesheet],style",e),u=0,c=i.length;u<c;++u)r=n=i[u],o=void 0,o=Q(m),S(r,"data-"+o)||S(r,o)||(n.id=t=n.id||"F3H:"+Y(O(n,"href")||j(n)),s[t]=J(n));return s}function z(e,t){return e?g.getElementById(e)||(t?g.getElementsByName(e)[0]:null):null}function Q(e){return e.toLowerCase()}function V(e){return e.toUpperCase()}function Y(e){var t,n=0,r=e.length;if(0===r)return n;for(t=0;t<r;++t)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n<1?-1*n:n}function Z(e){var t,n,r,o,s={},i=e.getAllResponseHeaders().trim().split(/[\r\n]+/);for(t in i)r=Q((n=i[t].split(": ")).shift()),Q(o=n.join(": ")),s[r]=u(o);return new Proxy(s,{get:function(e,t){return e[Q(t)]||null},set:function(e,t,n){e[Q(t)]=n}})}function ee(e,s){void 0===e&&(e=g),void 0===s&&(s={});var i,u=this;if(!n(u,ee))return new ee(e,s);o(e)&&(!1!==(i=e)&&!0!==i)&&!r(e)||(s=e,e=g),u.state=Object.assign({},ee.state,!0===s?{cache:s}:s||{}),u.source=e;var d=L(u.state.sources);u.state.turbo&&(u.state.cache=!0),ee.instances[u.source.id||u.source.name||Object.keys(ee.instances).length]=u,u.caches={},u.hooks=a,u.links={},u.lot={},u.ref=null,u.requests={},u.scripts={},u.status=null,u.styles={};var m=null,x=K();function L(e,n){var r=P(e,n,u.source),o=K();if(t(u.state.is)){var s=[];return r.forEach((function(e){u.state.is.call(u,e,o)&&s.push(e)})),s}return r}function H(e,t,r){var o,s=(e=>n(e,Window))(e),i=u.state.history;if(k!==t||e!==m||s){if(m=e,x=u.ref=r,u.fire("exit",[g,e]),u.state.cache){var c=u.caches[X(R(r))];if(c)return u.lot=c[2],u.status=c[0],c[3]&&!s&&i&&J(T),D(r),o=[c[1],e],c[3]&&(u.links=Y(o[0])),c[3]&&(u.styles=ne(o[0])),u.fire("success",o),u.fire(c[0],o),d=L(u.state.sources),c[3]&&(u.scripts=te(o[0])),le(o),void u.fire("enter",o)}var a,l,p,h,v=C(e,t,r,u.state.lot),y=v.upload,q=E===v.responseType;return f("abort",v,(function(){w(),u.fire("abort",[v.response,e])})),f("error",v,a=function(){w(),q&&!s&&i&&J(T),o=[v.response,e],q&&(u.links=Y(o[0])),q&&(u.styles=ne(o[0])),u.fire("error",o),d=L(u.state.sources),q&&(u.scripts=te(o[0])),le(o),u.fire("enter",o)}),f("error",y,a),f("load",v,a=function(){if(w(),o=[v.response,e],p=v.responseURL,h>=300&&h<400){var t=X(p);return u.caches[t]&&delete u.caches[t],u.fire("success",o),u.fire(h,o),void H(m=b,k,p||r)}D(-1===r.indexOf("#")&&p||r),q&&(u.styles=ne(o[0])),u.fire("success",o),u.fire(h,o),q&&i&&J(T),d=L(u.state.sources),q&&(u.scripts=te(o[0])),le(o),u.fire("enter",o)}),f("load",y,a),f("progress",v,(function(e){w(),u.fire("pull",e.lengthComputable?[e.loaded,e.total]:[0,-1])})),f("progress",y,(function(e){w(),u.fire("push",e.lengthComputable?[e.loaded,e.total]:[0,-1])})),v}function w(){l=Z(v),h=v.status,k===t&&u.state.cache&&h&&(u.caches[X(R(r))]=[h,v.response,l,q]),u.lot=l,u.status=h}}function O(e){u.requests[e]&&u.requests[e][0]&&(u.requests[e][0].abort(),delete u.requests[e])}function S(){for(var e in u.requests)O(e)}function C(e,n,o,s){o=t(u.state.ref)?u.state.ref.call(u,e,o):o;var i,c=new XMLHttpRequest,f=V(o.split(/[?&#]/)[0].split("/").pop().split(".")[1]||""),a=u.state.types[f]||u.state.type||q;if(t(a)&&(a=a.call(u,o)),c.responseType=a,c.open(n,o,!0),r(s))for(i in s)c.setRequestHeader(i,s[i]);return c.send("POST"===n?new FormData(e):null),c}function j(e,t){var n,r=C(e,k,t);f("load",r,(function(){200===(n=r.status)&&(u.caches[X(R(t))]=[n,r.response,Z(r),E===r.responseType])}))}function D(e){e!==K()&&u.state.history&&w.pushState({},"",e)}function J(e){e&&(T.scrollLeft=y.scrollLeft=e.offsetLeft,T.scrollTop=y.scrollTop=e.offsetTop)}function Q(e,t,n,r){var o,s,i,c=n(e),f={};for(o in t)(s=B("#"+o.replace(/[:.]/g,"\\$&"),u.source))&&(f[o]=s.nextElementSibling),c[o]||(delete t[o],$(z(o)));for(o in c)t[o]||(t[o]=i=c[o],U(I(i),f[o],r));return t}function Y(e){return Q(e,u.links,M,v)}function te(e){return Q(e,u.scripts,W,y)}function ne(e){return Q(e,u.styles,_,v)}function re(){f("keydown",g,ce),f("keyup",g,fe),y=g.body,v=g.head,u.links=M(),u.scripts=W(),u.styles=_(),le([g,b]),u.state.cache&&j(b,K())}function oe(e){if(S(),!ue){var t,n=this,r=n.href,o=n.action,s=r||o,i=V(n.method||k);k===i&&(N(n)&&(t=new URLSearchParams(new FormData(n))+"",s=X(s.split(/[?&#]/)[0])+(t?"?"+t:"")),u.state.turbo&&D(s)),u.requests[s]=[H(n,i,s),n],G(e)}}function se(e){J(z(F(K()),1)),G(e)}function ie(){var e=this,t=e.href;u.caches[X(R(t))]||j(e,t),c("mousemove",e,ie)}var ue=!1;function ce(e){ue=e.ctrlKey}function fe(){ue=!1}function ae(e){S();var t=K();F(t)&&R(x)===R(t)||(u.requests[t]=[H(b,k,t),b])}function le(e){var t=u.state.turbo;d.forEach((function(e){var n,r,o;f(A(e),e,oe),N(e)?(n=e,r=g.createElement("input"),o=P("[name][type=submit][value]",n,u.source),r.type="hidden",U(r,0,n),o.forEach((function(e){f("click",e,(function(){r.name=this.name,r.value=this.value}))}))):t&&function(e){f("mousemove",e,ie)}(e)})),function(e){if(u.hooks.focus)u.fire("focus",e);else{var t=B("[autofocus]",u.source);t&&t.focus()}}(e),function(e){u.hooks.scroll?u.fire("scroll",e):J(z(F(K()),1))}(e)}return u.abort=function(e){return e?u.requests[e]&&O(e):S(),u},u.fetch=function(e,t,n){return C(n,t,e)},u.fire=l.bind(u),u.off=p.bind(u),u.on=h.bind(u),u.pop=function(){return d.forEach((function(e){f(A(e),e,oe)})),c("DOMContentLoaded",b,re),c("hashchange",b,se),c("keydown",g,ce),c("keyup",g,fe),c("popstate",b,ae),u.fire("pop",[g,b]),u.abort()},f("DOMContentLoaded",b,re),f("hashchange",b,se),f("popstate",b,ae),u}return ee.instances={},ee.state={cache:!1,history:!0,is:function(e,t){var n=e.target,r=O(e,"href")||O(e,"action")||"",o=e.href||e.action||"";return(!n||"_self"===n)&&("#"!==r[0]&&!/^(data|javascript|mailto):/.test(r)&&((!F(o)||R(t)!==R(o))&&(""===r||0===r.search(/[.\/?]/)||0===r.indexOf(L)||0===r.indexOf(x.protocol+L)||-1===r.indexOf("://"))))},lot:{"x-requested-with":m},ref:function(e,t){return t},sources:"a[href],form",turbo:!1,type:E,types:{"":E,CSS:q,JS:q,JSON:"json"}},ee.version="1.1.3",ee}));