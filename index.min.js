/*!
 *
 * The MIT License (MIT)
 *
 * Copyright © 2020 Taufik Nurrohman
 *
 * <https://github.com/taufik-nurrohman/f3h>
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the “Software”), to deal
 * in the Software without restriction, including without limitation the rights
 * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
 * copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED “AS IS”, WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
 * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE
 * SOFTWARE.
 *
 */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).F3H=t()}(this,(function(){"use strict";const e=e=>Array.isArray(e),t=e=>"function"==typeof e,n=(e,t)=>e&&o(t)&&e instanceof t,r=(e,t=!0)=>"object"==typeof e&&(!t||n(e,Object)),o=e=>(e=>void 0!==e)(e)&&!(e=>null===e)(e),u=e=>"string"==typeof e,i=t=>{if(e(t))return t.map((e=>i(t)));if(r(t)){for(let e in t)t[e]=i(t[e]);return t}return!1===t?"false":null===t?"null":!0===t?"true":""+t},s=e=>e.toLowerCase(),l=e=>e.toUpperCase(),f=t=>{if(e(t))return t.map((e=>f(e)));if((e=>/^-?(?:\d*.)?\d+$/.test(e+""))(t))return((e,t=10)=>parseInt(e,t))(t);if(r(t)){for(let e in t)t[e]=f(t[e]);return t}return{false:!1,null:null,true:!0}[t]||t},c=document,a=window,p=c.documentElement,d=e=>{let t=v(e),n=b(e),r=g(e);return!1!==n?[r,n,t]:[r,t]},h=(e,t,n=!0)=>{if(!L(e,t))return null;let r=e.getAttribute(t);return n?f(r):r},v=(e,t=!0)=>{let n,r=e.attributes,o={};for(let e=0,u=r.length;e<u;++e)n=r[e].value,o[r[e].name]=t?f(n):n;return o},m=(e,t)=>(t||c).querySelector(e),y=(e,t)=>(t||c).querySelectorAll(e),b=(e,t=!0)=>{let n="innerHTML";if(!H(e,n))return!1;let r=e[n];return r=t?r.trim():r,""!==r?r:null},g=e=>((e||{}).nodeName||"").toLowerCase()||null,k=e=>e.nextElementSibling||null,E=e=>e.parentNode||null,x=(e,t=!0)=>{let n="textContent";if(!H(e,n))return!1;let r=e[n];return r=t?r.trim():r,""!==r?r:null},L=(e,t)=>e.hasAttribute(t),w=e=>null!==E(e),H=(e,t)=>t in e,T=(e,t)=>(e.removeAttribute(t),e),O=e=>{let t=E(e);return e.remove(),t},S=(e,t,n)=>(e.setAttribute(t,i(n)),e),C=(e,t)=>(e.append(t),t),F=(e,t,n)=>(e=u(e)?c.createElement(e):e,r(t)&&(n=t,t=!1),u(t)&&A(e,t),r(n)&&((e,t)=>{let n;for(let r in t)n=t[r],n||""===n||0===n?S(e,r,n):T(e,r)})(e,n),e),A=(e,t,n=!0)=>{let r="innerHTML";return H(e,r)&&(e[r]=n?t.trim():t),e},R=(e,t)=>(E(e).insertBefore(t,e),t),q=e=>F(...e),D=a.history,M=a.location,N=c.currentScript,B=(e,t,n)=>{t.removeEventListener(e,n)},P=(e,t,n,r=!1)=>{t.addEventListener(e,n,r)};function U(e,t){const n=this;return o($[e])?($[e].forEach((e=>e.apply(n,t))),n):n}const $={};function I(e,t){const n=this;if(!o(e))return $={},n;if(o($[e]))if(o(t)){for(let n=0,r=$[e].length;n<r;++n)if(t===$[e][n]){$[e].splice(n,1);break}0===j&&delete $[e]}else delete $[e];return n}function J(e,t){return o($[e])||($[e]=[]),o(t)&&$[e].push(t),this}const G=(e,t)=>(e=>n(e,RegExp))(e)?e:(e=e.replace(/\//g,"\\/"),RegExp(e,o(t)?t:"g"));var K,X,_="F3H",z="GET",Q="document",V="text",W="//"+M.hostname;function Y(e){return ue(e)?"submit":"click"}function Z(e){return e.split("#")[1]||""}function ee(e){for(var t,n,r,o={},u=y("link[rel=dns-prefetch],link[rel=preconnect],link[rel=prefetch],link[rel=preload],link[rel=prerender]",e),i=0,s=u.length;i<s;++i)ie(n=u[i])||(n.id=t=n.id||"F3H:"+pe(h(n,"href")||x(n)),o[t]=r=d(n),o[t][r.length-1].href=n.href);return o}function te(){return ae(M.href)}function ne(e){for(var t,n,r,o={},u=y("script",e),i=0,s=u.length;i<s;++i)se(n=u[i])||(n.id=t=n.id||"F3H:"+pe(h(n,"src")||x(n)),o[t]=r=d(n),o[t][r.length-1].src=n.src);return o}function re(e){for(var t,n,r,o={},u=y("link[rel=stylesheet],style",e),i=0,s=u.length;i<s;++i)le(n=u[i])||(n.id=t=n.id||"F3H:"+pe(h(n,"href")||x(n)),o[t]=r=d(n),"link"===r[0]&&(o[t][r.length-1].href=n.href));return o}function oe(e,t){return e?c.getElementById(e)||(t?c.getElementsByName(e)[0]:null):null}function ue(e){return"form"===g(e)}function ie(e){var t=s(_);return L(e,"data-"+t)||L(e,t)?1:0}function se(e){if(e.src&&N.src===e.src)return 1;var t=s(_);return L(e,"data-"+t)||L(e,t)||G("\\bF3H\\b").test(x(e)||"")?1:0}function le(e){var t=s(_);return L(e,"data-"+t)||L(e,t)?1:0}function fe(e){e.preventDefault()}function ce(e){return e.split("#")[0]}function ae(e){return e.replace(/\/+(?=[?&#]|$)/,"")}function pe(e){var t,n=0,r=e.length;if(0===r)return n;for(t=0;t<r;++t)n=(n<<5)-n+e.charCodeAt(t),n&=n;return n<1?-1*n:n}function de(e){var t,n,r,o,u={},i=e.getAllResponseHeaders().trim().split(/[\r\n]+/);for(t in i)n=i[t].split(": "),r=s(n.shift()),s(o=n.join(": ")),u[r]=f(o);return new Proxy(u,{get:function(e,t){return e[s(t)]||null},set:function(e,t,n){e[s(t)]=n}})}function he(e,u){void 0===e&&(e=c),void 0===u&&(u={});var i,s=this;if(!n(s,he))return new he(e,u);if(o(e)&&(!1!==(i=e)&&!0!==i)&&!r(e)||(u=e,e=c),e.F3H)return s;s.state=u=Object.assign({},he.state,!0===u?{cache:u}:u||{}),s.source=e;var f=U.bind(s),d=I.bind(s),h=J.bind(s);u.turbo&&(u.cache=!0);var v={},b=null,g=null,E=null,x=te(),L=x,H={},T=null,S=M(u.sources),j=null,A=null;function M(e,n){x=te();var r=y(e,n);if(t(u.is)){var o=[];return r.forEach((function(e){u.is.call(s,e,x)&&o.push(e)})),o}return r}function N(e){e!==te()&&u.history&&D.pushState({},"",e)}function G(e,t,n){var r,o=(e=>e===a)(e),i=u.history;if(z!==t||e!==E||o){if(E=e,s.ref=ae(L=n),f("exit",[c,e]),u.cache){var l=v[ae(ce(n))];if(l)return s.lot=g=l[2],s.status=j=l[0],l[3]&&!o&&i&&le(p),N(n),r=[l[1],e],l[3]&&(b=ve(r[0])),l[3]&&(A=ye(r[0])),f("success",r),f(l[0],r),S=M(u.sources),l[3]&&(T=me(r[0])),Te(r),void f("enter",r)}var d,h,m=ie(e,t,n,u.lot),y=m.upload,k=Q===m.responseType;return P("abort",m,(function(){x(),f("abort",[m.response,e])})),P("error",m,d=function(){x(),k&&!o&&i&&le(p),r=[m.response,e],k&&(b=ve(r[0])),k&&(A=ye(r[0])),f("error",r),S=M(u.sources),k&&(T=me(r[0])),Te(r),f("enter",r)}),P("error",y,d),P("load",m,d=function(){if(x(),r=[m.response,e],h=m.responseURL,j>=300&&j<400){var t=ae(h);return v[t]&&delete v[t],f("success",r),f(j,r),void G(E=a,z,h||n)}N(-1===n.indexOf("#")&&h||n),k&&(A=ye(r[0])),f("success",r),f(j,r),k&&i&&le(p),S=M(u.sources),k&&(T=me(r[0])),Te(r),f("enter",r)}),P("load",y,d),P("progress",m,(function(e){x(),f("pull",e.lengthComputable?[e.loaded,e.total]:[0,-1])})),P("progress",y,(function(e){x(),f("push",e.lengthComputable?[e.loaded,e.total]:[0,-1])})),m}function x(){g=de(m),j=m.status,z===t&&u.cache&&j&&(v[ae(ce(n))]=[j,m.response,g,k]),s.lot=g,s.status=j}}function _(e){H[e]&&H[e][0]&&(H[e][0].abort(),delete H[e])}function W(){for(var e in H)_(e)}function ie(e,n,o,i){o=t(u.ref)?u.ref.call(s,e,o):o;var f,c=new XMLHttpRequest,a=l(o.split(/[?&#]/)[0].split("/").pop().split(".")[1]||""),p=u.types[a]||u.type||V;if(t(p)&&(p=p.call(s,o)),c.responseType=p,c.open(n,o,!0),r(i))for(f in i)c.setRequestHeader(f,i[f]);return c.send("POST"===n?new FormData(e):null),c}function se(e,t){var n=ie(e,z,t);P("load",n,(function(){200===(j=n.status)&&(v[ae(ce(t))]=[j,n.response,de(n),Q===n.responseType])}))}function le(e){e&&(p.scrollLeft=K.scrollLeft=e.offsetLeft,p.scrollTop=K.scrollTop=e.offsetTop)}function pe(t,n,r,o){var u,i,s,l=r(t),f={};for(u in n)(i=m("#"+u.replace(/[:.]/g,"\\$&"),e))&&(f[u]=k(i)),l[u]||(delete n[u],O(oe(u)));for(u in l)n[u]||(n[u]=s=l[u],f[u]&&w(f[u])?R(f[u],q(s)):o&&C(o,q(s)));return n}function ve(e){return pe(e,b,ee,X)}function me(e){return pe(e,T,ne,K)}function ye(e){return pe(e,A,re,X)}function be(){P("keydown",c,Le),P("keyup",c,we),K=c.body,X=c.head,s.links=b=ee(),s.scripts=T=ne(),s.styles=A=re(),Te([c,a]),u.cache&&se(a,te())}function ge(e){if(W(),!xe){var t,n=this,r=n.href,o=n.action,i=r||o,s=l(n.method||z);z===s&&(ue(n)&&(t=new URLSearchParams(new FormData(n))+"",i=ae(i.split(/[?&#]/)[0])+(t?"?"+t:"")),u.turbo&&N(i)),H[i]=[G(n,s,i),n],fe(e)}}function ke(e){le(oe(Z(te()),1)),fe(e)}function Ee(){var e=this,t=e.href;v[ae(ce(t))]||se(e,t),B("mousemove",e,Ee)}he.instances[e.id||e.name||Object.keys(he.instances).length]=s,e.F3H=1;var xe=!1;function Le(e){xe=e.ctrlKey}function we(){xe=!1}function He(e){x=te(),W(),Z(x)&&ce(L)===ce(x)||(H[x]=[G(a,z,x),a])}function Te(t){var n=u.turbo;S.forEach((function(e){var t,r,o;P(Y(e),e,ge),ue(e)?(t=e,r=F("input",{type:"hidden"}),o=y("[name][type=submit][value]",t),C(t,r),o.forEach((function(e){P("click",e,(function(){r.name=this.name,r.value=this.value}))}))):n&&function(e){P("mousemove",e,Ee)}(e)})),function(t){if($.focus)f("focus",t);else{var n=m("[autofocus]",e);n&&n.focus()}}(t),function(e){$.scroll?f("scroll",e):le(oe(Z(te()),1))}(t)}return s.abort=function(e){return e?H[e]&&_(e):W(),s},s.caches=v,s.fetch=function(e,t,n){return ie(n,t,e)},s.fire=f,s.hooks=$,s.links=b,s.lot=null,s.off=d,s.on=h,s.ref=null,s.scripts=T,s.state=u,s.styles=A,s.status=null,s.pop=function(){return S.forEach((function(e){P(Y(e),e,ge)})),B("DOMContentLoaded",a,be),B("hashchange",a,ke),B("keydown",c,Le),B("keyup",c,we),B("popstate",a,He),f("pop",[c,a]),s.abort()},P("DOMContentLoaded",a,be),P("hashchange",a,ke),P("popstate",a,He),s}return he.instances={},he.state={cache:!1,history:!0,is:function(e,t){var n=e.target,r=h(e,"href")||h(e,"action")||"",o=e.href||e.action||"";return(!n||"_self"===n)&&("#"!==r[0]&&!/^(data|javascript|mailto):/.test(r)&&((!Z(o)||ce(t)!==ce(o))&&(""===r||0===r.search(/[.\/?]/)||0===r.indexOf(W)||0===r.indexOf(M.protocol+W)||-1===r.indexOf("://"))))},lot:{"x-requested-with":_},ref:function(e,t){return t},sources:"a[href],form",turbo:!1,type:Q,types:{"":Q,CSS:V,JS:V,JSON:"json"}},he.version="1.1.5",he}));